{"id":"tCEN","dependencies":[{"name":"C:\\Users\\Ronil\\docveda\\package.json","includedInParent":true,"mtime":1630489903078},{"name":"C:\\Users\\Ronil\\docveda\\node_modules\\@devexpress\\dx-scheduler-core\\package.json","includedInParent":true,"mtime":1630308769367},{"name":"moment","loc":{"line":8,"column":19},"parent":"C:\\Users\\Ronil\\docveda\\node_modules\\@devexpress\\dx-scheduler-core\\dist\\dx-scheduler-core.es.js","resolved":"C:\\Users\\Ronil\\docveda\\node_modules\\moment\\moment.js"},{"name":"rrule","loc":{"line":9,"column":32},"parent":"C:\\Users\\Ronil\\docveda\\node_modules\\@devexpress\\dx-scheduler-core\\dist\\dx-scheduler-core.es.js","resolved":"C:\\Users\\Ronil\\docveda\\node_modules\\rrule\\dist\\esm\\src\\index.js"},{"name":"@devexpress/dx-core","loc":{"line":10,"column":22},"parent":"C:\\Users\\Ronil\\docveda\\node_modules\\@devexpress\\dx-scheduler-core\\dist\\dx-scheduler-core.es.js","resolved":"C:\\Users\\Ronil\\docveda\\node_modules\\@devexpress\\dx-core\\dist\\dx-core.es.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.addGroupInfoToCells=exports.addGroupInfoToCell=exports.addDateToKey=exports.addAppointment=exports.YEARLY_RADIO_GROUP=exports.WEEK_NUMBER_LABELS=exports.WEEK_DAY_OPTIONS=exports.WEEKDAY_INTERVAL=exports.WEDNESDAY_DATE=exports.VIEW_TYPES=exports.VERTICAL_VIEW_LEFT_OFFSET=exports.VERTICAL_TYPE=exports.VERTICAL_GROUP_ORIENTATION=exports.TUESDAY_DATE=exports.TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY=exports.TOGGLE_APPOINTMENT_FORM_VISIBILITY=exports.TITLE_TEXT_EDITOR=exports.TITLE=exports.THURSDAY_DATE=exports.THIRD_WEEK=exports.SUNDAY_DATE=exports.STANDARD_SELECT=exports.SHORT_MONTH_SHORT_YEAR_OPTIONS=exports.SHORT_MONTH_OPTIONS=exports.SHORT_MONTH_LONG_YEAR_OPTIONS=exports.SEPTEMBER_DATE=exports.SECOND_WEEK=exports.SECONDS=exports.SCROLL_SPEED_PX=exports.SCROLL_OFFSET=exports.SAVE_BUTTON=exports.SATURDAY_DATE=exports.RecurrenceFrequency=exports.RRULE_REPEAT_TYPES=exports.RRULE_DAYS_OF_WEEK=exports.RESIZE_TOP=exports.RESIZE_BOTTOM=exports.REPEAT_TYPES_ARRAY=exports.REPEAT_TYPES=exports.RECURRENCE_EDIT_SCOPE=exports.POSITION_START=exports.POSITION_END=exports.OUTLINED_SELECT=exports.ORDINARY_TEXT_EDITOR=exports.ORDINARY_LABEL=exports.OPEN_COMMAND_BUTTON=exports.OCTOBER_DATE=exports.NUMBER_EDITOR=exports.NOVEMBER_DATE=exports.MULTILINE_TEXT_EDITOR=exports.MONTH_YEAR_OPTIONS=exports.MONTHS_DATES=exports.MONTHS=exports.MONTHLY_RADIO_GROUP=exports.MONDAY_DATE=exports.MINUTES=exports.MAY_DATE=exports.MARCH_DATE=exports.LONG_WEEK_DAY_OPTIONS=exports.LONG_MONTH_OPTIONS=exports.LAST_WEEK=exports.JUNE_DATE=exports.JULY_DATE=exports.JANUARY_DATE=exports.HOUR_MINUTE_OPTIONS=exports.HOURS=exports.HORIZONTAL_VIEW_LEFT_OFFSET=exports.HORIZONTAL_TYPE=exports.HORIZONTAL_GROUP_ORIENTATION=exports.FRIDAY_DATE=exports.FOURTH_WEEK=exports.FIRST_WEEK=exports.FEBRUARY_DATE=exports.END_REPEAT_RADIO_GROUP=exports.EMPTY_OPTIONS=exports.DELETE_COMMAND_BUTTON=exports.DELETE_BUTTON=exports.DEFAULT_RULE_OBJECT=exports.DECEMBER_DATE=exports.DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS=exports.DAY_SHORT_MONTH_OPTIONS=exports.DAY_SHORT_MONTH_LONG_YEAR_OPTIONS=exports.DAY_OPTIONS=exports.DAY_LONG_MONTH_OPTIONS=exports.DAY_LONG_MONTH_LONG_YEAR_OPTIONS=exports.DAYS_OF_WEEK_DATES=exports.DAYS_OF_WEEK_ARRAY=exports.DAYS_OF_WEEK=exports.DAYS_IN_WEEK=exports.COMMIT_COMMAND_BUTTON=exports.CLOSE_COMMAND_BUTTON=exports.CANCEL_COMMAND_BUTTON=exports.CANCEL_BUTTON=exports.BASIC_YEALY_COUNT=exports.BASIC_WEEKLY_COUNT=exports.BASIC_MONTHLY_COUNT=exports.BASIC_DAILY_COUNT=exports.AUTO_HEIGHT=exports.AUGUST_DATE=exports.APRIL_DATE=void 0,exports.getTimeTableHeight=exports.getRowFromGroups=exports.getRecurrenceOptions=exports.getRadioGroupDisplayData=exports.getRRuleSetWithExDates=exports.getRRuleFrequency=exports.getMonthsWithOf=exports.getMonths=exports.getMonthVerticallyGroupedRowIndex=exports.getMonthHorizontallyGroupedColumnIndex=exports.getMonthCellIndexByAppointmentData=exports.getLabelsForAllGroups=exports.getHorizontalRectByAppointmentData=exports.getGroupsLastRow=exports.getGroupsFromResources=exports.getGroupingInfoFromGroups=exports.getGroupFromResourceInstance=exports.getFrequencyString=exports.getDaysOfWeekDates=exports.getDaysOfWeekArray=exports.getDaysOfWeek=exports.getDayScaleCells=exports.getDayScaleCellColSpan=exports.getCurrentTimeIndicatorTop=exports.getCountDependingOnRecurrenceType=exports.getCellKey=exports.getAvailableRecurrenceOptions=exports.getAppointmentStyle=exports.getAppointmentResources=exports.getAllDayVerticallyGroupedRowIndex=exports.getAllDayVerticallyGroupedColumnIndex=exports.getAllDayHorizontallyGroupedColumnIndex=exports.getAllDayCellIndexByAppointmentData=exports.formatDateToString=exports.formatDateTimeGetter=exports.findOverlappedAppointments=exports.findMaxReduceValue=exports.findIncludedBlocks=exports.findChildrenMaxEndDate=exports.findChildBlocks=exports.findBlockIndexByAppointment=exports.filterResourcesByGrouping=exports.filterByViewBoundaries=exports.expandViewCellsDataWithGroups=exports.expandGroups=exports.expandGroupedAppointment=exports.excludedIntervals=exports.endViewDate=exports.editCurrentAndFollowing=exports.editCurrent=exports.editAll=exports.deleteCurrentAndFollowing=exports.deleteCurrent=exports.deleteAll=exports.dayScale=exports.dayBoundaryPredicate=exports.createAppointmentForest=exports.convertToMoment=exports.convertResourcesToPlain=exports.containsDSTChange=exports.computed=exports.checkMultipleResourceFields=exports.checkIsNaturalNumber=exports.checkCellGroupingInfo=exports.changedAppointmentById=exports.changeRecurrenceOptions=exports.changeRecurrenceFrequency=exports.changeCurrentDate=exports.changeAppointment=exports.cellType=exports.cellIndex=exports.cellData=exports.cancelChanges=exports.cancelAddedAppointment=exports.callActionIfExists=exports.calculateWeekDateIntervals=exports.calculateRectByDateAndGroupIntervals=exports.calculateMonthDateIntervals=exports.calculateInsidePart=exports.calculateIncludedBlockMaxRight=exports.calculateFirstDateOfWeek=exports.calculateDraftAppointments=exports.calculateBlocksTotalSize=exports.calculateBlocksLeftLimit=exports.calculateAppointmentsMetaData=exports.calculateAppointmentTimeBoundaries=exports.calculateAppointmentOffsets=exports.calculateAppointmentLeftAndWidth=exports.calculateAppointmentGroups=exports.calculateAllDayDateIntervals=exports.availableViews=exports.autoScroll=exports.areDatesSame=exports.appointments=exports.appointmentDragged=exports.allDayRects=exports.allDayPredicate=exports.allDayCells=exports.adjustByBlocks=exports.addResourcesToAppointments=void 0,exports.viewPredicate=exports.viewCellsData=exports.viewBoundText=exports.verticalTimeTableRects=exports.validateResources=exports.updateTimeTableCellElementsMeta=exports.updateTimeCellsData=exports.updateGroupingWithMainResource=exports.updateBlocksProportions=exports.updateBlocksLeft=exports.updateAllDayCellElementsMeta=exports.unwrapGroups=exports.toggleExpandedGroups=exports.toPercentage=exports.timeScale=exports.timeCellsData=exports.timeBoundariesByResize=exports.timeBoundariesByDrag=exports.stopEditAppointment=exports.startViewDate=exports.startEditAppointment=exports.sortFilteredResources=exports.sortAppointments=exports.sliceAppointmentsByDays=exports.sliceAppointmentsByBoundaries=exports.sliceAppointmentByWeek=exports.sliceAppointmentByDay=exports.setCurrentViewName=exports.setAppointmentMeta=exports.setAppointmentData=exports.reduceAppointmentByDayBounds=exports.rearrangeResources=exports.prepareVerticalViewCellsData=exports.prepareToGroupIntoBlocks=exports.preCommitChanges=exports.normalizeAppointmentDuration=exports.navigateByOneMonth=exports.monthCellsData=exports.isTimeTableElementsMetaActual=exports.isShadedAppointment=exports.isPossibleChild=exports.isOverlappingSubTreeRoot=exports.isMonthCell=exports.isMidnight=exports.isDateValid=exports.isCellShaded=exports.isAllDayElementsMetaActual=exports.isAllDayCell=exports.intervalIncludes=exports.intervalDuration=exports.horizontalTimeTableRects=exports.handleWeekDaysChange=exports.handleToDayOfWeekChange=exports.handleStartDateChange=exports.handleChangeFrequency=exports.groupAppointmentsIntoBlocks=exports.groupAppointments=exports.getWeekVerticallyGroupedRowIndex=exports.getWeekVerticallyGroupedColumnIndex=exports.getWeekNumberLabels=exports.getWeekHorizontallyGroupedRowIndex=exports.getWeekHorizontallyGroupedColumnIndex=exports.getViewType=exports.getVerticalRowFromGroups=exports.getVerticalRectByAppointmentData=exports.getVerticalCellIndexByAppointmentData=exports.getUTCDate=void 0;var e=n(require(\"moment\")),t=require(\"rrule\"),r=require(\"@devexpress/dx-core\");function n(e){return e&&e.__esModule?e:{default:e}}var a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function u(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)u.push(n.value)}catch(i){a={error:i}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return u}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}var s=function(e,t,r,n){return e.currentView.name!==t&&n?n:r(e,t)};exports.computed=s;var l=function(e,t){return 100*e/t};exports.toPercentage=l;var p=function(t,r){var n=(0,e.default)(r.day(t));return[n,(0,e.default)(n).hour(r.hour()).endOf(\"day\")]},d=function(e,t){return e.map(function(e){return 0===e?7:e}).sort(function(e,t){return e-t}).reduce(function(e,r,n,a){return n&&r===a[n-1]+1?e[e.length-1][1].day(r):e.push(p(r,t)),e},[])};exports.excludedIntervals=d;var f=function(e,t){return e.isBetween(t[0],t[1],void 0,\"[]\")},c=function(t,r,n,a,o){void 0===a&&(a=[]),void 0===o&&(o=!1);var u=t.start,i=t.end,s=i.isAfter(r)&&u.isBefore(n),l=!!d(a,(0,e.default)(r)).find(function(e){return f(u,e)&&f(i,e)}),p=!o||(0,e.default)(i).diff(u,\"hours\")<24&&!t.allDay;return s&&!l&&p};exports.viewPredicate=c;var x=function(t,r,n){void 0===n&&(n=[]);var a=e.default.locale();e.default.updateLocale(\"tmp-locale\",{week:{dow:r,doy:1}});var o=(0,e.default)(t).startOf(\"week\");return-1!==n.indexOf(r)&&n.slice().sort().forEach(function(e){e===o.day()&&o.add(1,\"days\")}),e.default.locale(a),o.toDate()};exports.calculateFirstDateOfWeek=x;var v=function(e){var t=e.top,r=e.left,n=e.width;return{height:e.height,width:n+\"%\",transform:\"translateY(\"+t+\"px)\",msTransform:\"translateY(\"+t+\"px)\",left:r+\"%\",position:\"absolute\"}};exports.getAppointmentStyle=v;var D=function(r,n,o){var u=(0,e.default)(T(o)).toDate(),i=(0,e.default)(T(n)).toDate(),s=(0,e.default)(r.start).toDate(),l=a(a({},t.RRule.parseString(r.rRule)),{dtstart:(0,e.default)(T(s)).toDate()}),p=l.until?a(a({},l),{until:(0,e.default)(T(l.until)).toDate()}):l,d=h(r.exDate);d.rrule(new t.RRule(p));var f=d.between(i,u,!0).map(E);if(0===f.length)return[];var c=(0,e.default)(r.end).diff(r.start,\"minutes\");return f.map(function(t,n){return a(a({},r),{dataItem:a(a({},r.dataItem),{startDate:(0,e.default)(t).toDate(),endDate:(0,e.default)(t).add(c,\"minutes\").toDate(),parentData:r.dataItem}),start:(0,e.default)(t),end:(0,e.default)(t).add(c,\"minutes\"),key:r.key+\"_rec_\"+n})})},m=function(e,t,r,n,a){var o=[e];return e.rRule&&(o=D(e,t,r)),o.filter(function(e){return c(e,t,r,n,a)})};exports.filterByViewBoundaries=m;var T=function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes())};exports.getUTCDate=T;var h=function(r){var n=new t.RRuleSet;return r&&r.split(\",\").map(function(t){var r=(0,e.default)(t).toDate();n.exdate((0,e.default)(T(r)).toDate())}),n};exports.getRRuleSetWithExDates=h;var E=function(t){return e.default.utc(t).format(\"YYYY-MM-DDTHH:mm\")};exports.formatDateToString=E;var O=function(e,t){return e+\"_\"+t.toDate().toString()};exports.addDateToKey=O;var A=\"vertical\";exports.VERTICAL_TYPE=A;var y=\"horizontal\";exports.HORIZONTAL_TYPE=y;var R=50;exports.SCROLL_OFFSET=R;var g=15;exports.SCROLL_SPEED_PX=g;var _=\"seconds\";exports.SECONDS=_;var I=\"minutes\";exports.MINUTES=I;var S=\"hours\";exports.HOURS=S;var N=\"resize-start\";exports.RESIZE_TOP=N;var C=\"resize-end\";exports.RESIZE_BOTTOM=C;var M=\"start\";exports.POSITION_START=M;var L=\"end\";exports.POSITION_END=L;var Y=\"auto\";exports.AUTO_HEIGHT=Y;var w={day:\"numeric\"};exports.DAY_OPTIONS=w;var B={weekday:\"short\"};exports.WEEK_DAY_OPTIONS=B;var k={month:\"short\"};exports.SHORT_MONTH_OPTIONS=k;var G={hour:\"numeric\",minute:\"numeric\"};exports.HOUR_MINUTE_OPTIONS=G;var P={month:\"long\",year:\"numeric\"};exports.MONTH_YEAR_OPTIONS=P;var b={day:\"numeric\",month:\"short\"};exports.DAY_SHORT_MONTH_OPTIONS=b;var U={month:\"short\",year:\"numeric\"};exports.SHORT_MONTH_LONG_YEAR_OPTIONS=U;var W={month:\"short\",year:\"2-digit\"};exports.SHORT_MONTH_SHORT_YEAR_OPTIONS=W;var H={day:\"numeric\",month:\"long\",year:\"numeric\"};exports.DAY_LONG_MONTH_LONG_YEAR_OPTIONS=H;var F={day:\"numeric\",month:\"short\",year:\"numeric\"};exports.DAY_SHORT_MONTH_LONG_YEAR_OPTIONS=F;var V={day:\"numeric\",month:\"short\",year:\"2-digit\"};exports.DAY_SHORT_MONTH_SHORT_YEAR_OPTIONS=V;var K={weekday:\"long\"};exports.LONG_WEEK_DAY_OPTIONS=K;var z={month:\"long\"};exports.LONG_MONTH_OPTIONS=z;var q={day:\"numeric\",month:\"long\"};exports.DAY_LONG_MONTH_OPTIONS=q;var j={};exports.EMPTY_OPTIONS=j;var J={ALL:\"all\",CURRENT_AND_FOLLOWING:\"currentAndFollowing\",CURRENT:\"current\"};exports.RECURRENCE_EDIT_SCOPE=J;var Z=\"toggleAppointmentFormVisibility\";exports.TOGGLE_APPOINTMENT_FORM_VISIBILITY=Z;var X=\"toggleAppointmentTooltipVisibility\";exports.TOGGLE_APPOINTMENT_TOOLTIP_VISIBILITY=X;var Q=\"weekdayInterval\";exports.WEEKDAY_INTERVAL=Q;var $=80;exports.VERTICAL_VIEW_LEFT_OFFSET=$;var ee=0;exports.HORIZONTAL_VIEW_LEFT_OFFSET=ee;var te=\"Vertical\";exports.VERTICAL_GROUP_ORIENTATION=te;var re=\"Horizontal\";exports.HORIZONTAL_GROUP_ORIENTATION=re;var ne={MONTH:\"month\",WEEK:\"week\",DAY:\"day\",ALL_DAY_PANEL:\"allDayPanel\"};exports.VIEW_TYPES=ne;var ae=\"month\",oe=function(e){return e===ae?y:A};exports.getViewType=oe;var ue=function(t){var r=(0,e.default)(t);return 0===r.hours()&&0===r.minutes()&&0===r.seconds()};exports.isMidnight=ue;var ie=function(t,r,n,o){var u=(0,e.default)(t),i=(0,e.default)(r);return u.isSame(i,\"day\")?n(u.toDate(),a(a({},H),o)):u.isSame(i,\"year\")?u.isSame(i,\"month\")?n(u.toDate(),w)+\"-\"+n(i.toDate(),w)+\" \"+n(i.toDate(),P):n(u.toDate(),b)+\" - \"+n(i.toDate(),F):n(u.toDate(),V)+\" - \"+n(i.toDate(),V)},se=function(t,r,n){var a=(0,e.default)(t);if(1===r)return n(a.toDate(),P);var o=a.clone().add(r-1,\"month\");return a.isSame(o,\"year\")?n(a.toDate(),k)+\"-\"+n(o.toDate(),U):n(a.toDate(),W)+\" - \"+n(o.toDate(),W)},le=function(e,t,r,n,a,o){return\"month\"!==r?ie(e,t,o,r===Q?K:j):se(n,a,o)};exports.viewBoundText=le;var pe=function(e,t){return!e.groupingInfo||e.groupingInfo.every(function(e){return e.id===t[e.fieldName]})};exports.checkCellGroupingInfo=pe;var de=function(t){return(0,e.default)(t).isValid()};exports.isDateValid=de;var fe=function(t){return(0,e.default)(t)};exports.convertToMoment=fe;var ce=function(t,r){return(0,e.default)(t).isSame(r,\"date\")};exports.areDatesSame=ce;var xe=function(e){var t;return null===(t=e.parentRect)||void 0===t?void 0:t.call(e).height};exports.getTimeTableHeight=xe;var ve=function(t){var r=(0,e.default)(t);r.startOf(\"day\");var n=r.isDST();r.endOf(\"day\");var a=r.isDST();return n&&!a||!n&&a};exports.containsDSTChange=ve;var De=function(t){return(0,e.default)(t).subtract(1,\"second\").toDate()},me=function(t,r,n,a){void 0===a&&(a=[]);for(var o=[],u=void 0!==r?(0,e.default)(x(t,r,a)):(0,e.default)(t),i=0;i<n;i+=1)-1===a.findIndex(function(e){return e===u.day()})&&o.push(u.toDate()),u.add(1,\"days\");return o};exports.dayScale=me;var Te=function(t,r,n,a,o,u){var i=[],s=void 0!==r?x(t,r,u):t,l=ve(s),p=(0,e.default)(s);l&&p.subtract(1,\"day\");for(var d=(0,e.default)(p).startOf(\"day\").add(n,\"hour\"),f=(0,e.default)(p).startOf(\"day\").add(a,\"hour\");d.isBefore(f);){var c=d.toDate();d.add(o,\"minutes\"),i.push({start:c,end:d.toDate()})}var v=i.length-1;return ue(i[v].end)&&(i[v].end=De(i[v].end)),i};exports.timeScale=Te;var he=function(e,t,r){if(!e)return[{name:t,displayName:r}];if(-1===e.findIndex(function(e){return t===e.name})){var n=e.slice();return n.push({name:t,displayName:r}),n}return e};exports.availableViews=he;var Ee=function(t,r,n,a,o,u,i,s){var l=me(t,r,n,a),p=Te(t,r,o,u,i,a),d=(0,e.default)(s);return p.reduce(function(t,r){var n=(0,e.default)(r.start),a=(0,e.default)(r.end),o=l.reduce(function(t,r){var o=(0,e.default)(r).hours(n.hours()).minutes(n.minutes()).toDate(),u=(0,e.default)(r).hours(a.hours()).minutes(a.minutes()).toDate(),i=d.isSame(o,\"day\");return t.push({startDate:o,endDate:u,today:i}),t},[]);return t.push(o),t},[])};exports.viewCellsData=Ee;var Oe=function(t,r,n,a,o){var u=t[0][0].startDate;if(!ve(u))return t;var i=(0,e.default)(u).add(1,\"day\").toDate();return Ee(i,void 0,1,[],r,n,a,o)};exports.timeCellsData=Oe;var Ae=function(t){return[t[0].map(function(t){return{startDate:(0,e.default)(t.startDate).startOf(\"day\").toDate(),endDate:(0,e.default)(t.startDate).add(1,\"day\").startOf(\"day\").toDate(),groupingInfo:t.groupingInfo,endOfGroup:t.endOfGroup}})]};exports.allDayCells=Ae;var ye=function(t){return(0,e.default)(t[0][0].startDate).toDate()};exports.startViewDate=ye;var Re=function(e){var t=e.length-1,r=e[t].length-1;return De(e[t][r].endDate)};exports.endViewDate=Re;var ge=1,_e=.05,Ie=function(e,t,r,n){return Ne(e,t,r===re?1:n)};exports.isAllDayElementsMetaActual=Ie;var Se=function(e,t){return Ne(e,t,e.length)};exports.isTimeTableElementsMetaActual=Se;var Ne=function(e,t,r){return!(null==t||!t.getCellRects)&&r*e[0].length===t.getCellRects.length},Ce=function(e,t){var r=e.end.clone().diff(e.start,\"minutes\")/t;return 1===r?\"middle\":r>1?\"long\":\"short\"},Me=function(e,t,r){var n=r.rectByDates,a=r.multiline,o=r.rectByDatesMeta,u=n(e,t,{multiline:a,cellElementsMeta:o.cellElementsMeta,viewCellsData:o.viewCellsData}),i=u.top,s=u.left,p=u.width,d=u.height,f=u.parentWidth;return{resources:e.resources,top:i+d/e.reduceValue*e.offset,height:d/e.reduceValue,left:l(s,f),width:l(p,f),dataItem:e.dataItem,fromPrev:e.fromPrev,toNext:e.toNext,type:y,key:e.key}},Le=function(e,t,r){var n=r.rectByDates,a=r.multiline,o=r.rectByDatesMeta,u=o.viewCellsData,i=o.cellDuration,s=o.cellElementsMeta,p=n(e,t,{multiline:a,viewCellsData:u,cellDuration:i,excludedDays:o.excludedDays,cellElementsMeta:s}),d=p.top,f=p.left,c=p.width,x=p.height,v=p.parentWidth,D=e.offset,m=e.width,T=e.left,h=5*m/3+T<=1?5/3:1,E=h===5/3?h*m:m+.02;return E+T>1&&(E=1-T),{resources:e.resources,top:d,height:x,left:l(f+T*c,v),width:l(E*c,v),dataItem:e.dataItem,fromPrev:e.fromPrev,toNext:e.toNext,durationType:Ce(e,i),type:A,offset:D,key:e.key}},Ye=function(e,t,r){var n=r.rectByDates,a=r.multiline,o=r.rectByDatesMeta,u=o.viewCellsData,i=o.cellDuration,s=o.cellElementsMeta,p=n(e,t,{multiline:a,viewCellsData:u,cellDuration:i,excludedDays:o.excludedDays,cellElementsMeta:s,placeAppointmentsNextToEachOther:o.placeAppointmentsNextToEachOther}),d=p.top,f=p.left,c=p.width,x=p.height,v=p.parentWidth,D=c/e.reduceValue;return{resources:e.resources,top:d,height:x,left:l(f+D*e.offset,v),width:l(D,v),dataItem:e.dataItem,fromPrev:e.fromPrev,toNext:e.toNext,durationType:Ce(e,i),type:A,key:e.key}},we=function(e,t){return e.start.isBefore(t.start,\"day\")?-1:e.start.isAfter(t.start,\"day\")?1:0},Be=function(e,t){return e.allDay&&!t.allDay?-1:!e.allDay&&t.allDay?1:0},ke=function(e,t){return e.start.isBefore(t.start)?-1:e.start.isAfter(t.start)?1:e.end.isBefore(t.end)?1:e.end.isAfter(t.end)?-1:0},Ge=function(e){return e.slice().sort(function(e,t){return we(e,t)||Be(e,t)||ke(e,t)})};exports.sortAppointments=Ge;var Pe=function(e,t){return e.isSameOrAfter(t,\"day\")&&!e.isSame(e.clone().startOf(\"day\"))},be=function(e,t){void 0===t&&(t=!1);for(var r=e.slice(),n=[],a=0;a<r.length;){n.push([]);var o=r[a],u=n[n.length-1],i=r[a+1],s=o.end;for(u.push(o),a+=1;i&&(s.isAfter(i.start)||t&&Pe(s,i.start));)u.push(i),s.isBefore(i.end)&&(s=i.end),i=r[a+=1]}return n};exports.findOverlappedAppointments=be;var Ue=function(e){return e.isSame(e.clone().startOf(\"day\"))},We=function(e,t){return e.isBefore(t,\"day\")||Ue(e)&&e.isSame(t,\"day\")},He=function(e,t){return void 0===t&&(t=!1),e.map(function(e){for(var r=0,n=1,o=e.map(function(e){return a({},e)}),u=o.length,i=0;i<u;i+=1){var s=o[i];if(void 0===s.offset){var l=s.end;s.offset=r;for(var p=i+1;p<u;p+=1)void 0===o[p].offset&&(!t&&l.isSameOrBefore(o[p].start)||t&&We(l,o[p].start))&&(l=o[p].end,o[p].offset=r);n<(r+=1)&&(n=r)}}return{items:o,reduceValue:n}})};exports.calculateAppointmentOffsets=He;var Fe=function(e){var t=e.map(function(e){var t=e.items;return{reduceValue:e.reduceValue,items:t.map(function(e){var t=e.data;return a({},t)})}});return Ve(t)},Ve=function(t){return t.reduce(function(t,r){var n=r.items,u=r.reduceValue;return t.push.apply(t,i(n.map(function(t){var r=t.start,n=t.end,i=t.dataItem,s=t.offset,l=t.resources,p=t.key,d=o(t,[\"start\",\"end\",\"dataItem\",\"offset\",\"resources\",\"key\"]);return a({start:r,end:n,dataItem:i,offset:s,reduceValue:u,resources:l,fromPrev:(0,e.default)(r).diff(i.startDate,\"minutes\")>1,toNext:(0,e.default)(i.endDate).diff(n,\"minutes\")>1,key:p},d)}))),t},[])};exports.unwrapGroups=Ve;var Ke=function(e,t,r){return r.isBetween(e,t,void 0,\"[)\")};exports.intervalIncludes=Ke;var ze=function(e,t){return e.map(function(e){var r,n,o=e.items;if(1===o.length)r=[{data:o[0],children:[],treeDepth:0,isDirectChild:!1,hasDirectChild:!1}],n=[0];else{var u=qe(o,t);r=u.appointments,n=u.roots}return a(a({},e),{items:r,roots:n})})};exports.createAppointmentForest=ze;var qe=function(e,t){var r=e.map(function(e){return{data:e}}),n=r.reduce(function(e,n,a){return 0===n.data.offset?(a+1===r.length?(n.children=[],n.hasDirectChild=!1,n.treeDepth=0):n.treeDepth=Je(r,a,t,0),n.parent=void 0,n.isDirectChild=!1,i(e,[a])):e},[]);return{appointments:r,roots:n}},je=function(e,t,r,n,a,o){var u=e[t];u.isDirectChild=a,u.parent=r;var i=o+1,s=u.data.end;if(t===e.length-1||s.isSameOrBefore(e[t+1].data.start))return u.children=[],u.treeDepth=0,u.hasDirectChild=!1,i;var l=Je(e,t,n,o);return u.treeDepth=l,l+1},Je=function(t,r,n,a){for(var o=t[r],u=o.data,i=u.end,s=u.offset,l=u.start,p=(0,e.default)(l).add(n,\"minutes\"),d=0,f=[],c=r+1;Ze(t,c,i,s);){var x=t[c].data,v=x.offset,D=x.start;if(v===s+1){var m=Ke(l,p,D),T=je(t,c,r,n,m,a);d<T&&(d=T),f.push(c)}c+=1}return o.hasDirectChild=0!==f.length&&t[f[0]].isDirectChild,o.children=f,d},Ze=function(e,t,r,n){var a=e[t];return t<e.length&&a.data.offset!==n&&a.data.start.isBefore(r)};exports.isPossibleChild=Ze;var Xe=function(e){return e.reduce(function(e,t){var r=t.reduceValue;return e>r?e:r},1)};exports.findMaxReduceValue=Xe;var Qe=function(e,t){return e.map(function(e){var r=e.items,n=e.roots,o=r[0];return a(a({},e),{items:1===r.length?[a(a({},o),{data:a(a({},o.data),{left:0,width:1})})]:$e(r,n,t)})})};exports.calculateAppointmentsMetaData=Qe;var $e=function(e,t,r){var n=e.map(function(e){return a({},e)});return t.forEach(function(e){var t=n[e],a=rt(n,void 0,t,ge,r,void 0),o=a.left,u=a.width;t.data.left=o,t.data.width=u,tt(n,t,ge,r)}),n},et=function(e,t,r,n){var a=e[t],o=rt(e,void 0,a,r,n,void 0),u=o.left,i=o.width;a.data.left=u,a.data.width=i,tt(e,a,r,n)},tt=function(e,t,r,n){t.children.forEach(function(t){et(e,t,r,n)})},rt=function(e,t,r,n,a,o){var u,i=r,s=i.hasDirectChild,l=i.treeDepth,p=i.isDirectChild,d=i.parent,f=i.children,c=i.blockIndex,x=null===(u=e[f[0]])||void 0===u?void 0:u.blockIndex,v=s&&(void 0===x||c===x||t[x].includedInto===c||1===n);if(void 0===d)return{width:v?n/(l+1):n,left:0};var D=e[d].data,m=D.width,T=D.left,h=p?T+m:T+a,E=void 0!==o?Math.max(o,h):h,O=n-E;return{width:v?O/(l+1):O,left:E}};exports.calculateAppointmentLeftAndWidth=rt;var nt=function(e){return e.map(function(e){var t=e.items.map(function(e){return a({},e)});return t.forEach(function(e,r){if(0!==r){for(var n,a=[],o=e.data,u=o.offset,i=o.end,s=r+1;Ze(t,s,i,u);){var l=t[s];l.data.offset<u&&void 0===l.maxOffset&&(l.maxOffset=u);var p=a.length>0?t[a[a.length-1]]:void 0;if(at(e,l,p,n)){a.push(s),l.overlappingSubTreeRoot=!0;var d=ot(t,l);n&&!n.isBefore(d)||(n=d)}s+=1}e.overlappingSubTreeRoots=a}else e.overlappingSubTreeRoots=[]}),a(a({},e),{items:t})})};exports.prepareToGroupIntoBlocks=nt;var at=function(e,t,r,n){var a=t.overlappingSubTreeRoot,o=t.maxOffset,u=t.data,i=u.offset,s=u.start,l=e.data.offset;return i<l&&!a&&(void 0===o||o>=l)&&(!r||r.data.offset>=i&&s.isSameOrAfter(n))};exports.isOverlappingSubTreeRoot=at;var ot=function(e,t){var r=t.children,n=t.data.end;return r.reduce(function(t,r){var n=e[r],a=ot(e,n);return a.isAfter(t)?a:t},n)};exports.findChildrenMaxEndDate=ot;var ut=function(e){return e.map(function(e){var t=e.items,r=e.reduceValue,n=t.reduce(function(e,r,n){var o=e.blocks.slice(),u=r.treeDepth,s=r.data,l=r.overlappingSubTreeRoots,p=r.overlappingSubTreeRoot,d=s.offset,f=s.start,c=s.end;0!==l.length&&(p||o.push({start:f,end:c,minOffset:d,maxOffset:d+u,size:u+1,items:[],endForChildren:c}),l.forEach(function(e){var r=t[e],n=r.data;o.push({start:n.start,end:c,minOffset:n.offset,maxOffset:d-1,size:it(t,r,c),items:[],endForChildren:n.end})}));var x=st(o,r);o[x].items.push(n);var v=a(a({},r),{blockIndex:x});return{blocks:o,appointments:i(e.appointments,[v])}},{blocks:[{start:t[0].data.start,end:t[0].data.end,minOffset:0,maxOffset:r-1,size:r,items:[],endForChildren:t[0].data.end}],appointments:[]}),o=n.blocks,u=n.appointments;return{blocks:o,appointmentForest:a(a({},e),{items:u})}})};exports.groupAppointmentsIntoBlocks=ut;var it=function(e,t,r){var n=t.children,a=t.data.start;if(0===n.length)return r.isAfter(a)?1:0;var o=Math.max.apply(Math,i(n.map(function(t){return it(e,e[t],r)})));return r.isSameOrBefore(a)&&0===o?0:o+1},st=function(e,t){for(var r=t.data,n=r.start,a=r.offset,o=e.length-1;o>0;){var u=e[o];if(Ke(u.start,u.end,n)&&a>=u.minOffset&&a<=u.maxOffset)break;o-=1}return o};exports.findBlockIndexByAppointment=st;var lt=function(e){return e.map(function(e){var t=e.blocks,r=e.appointmentForest,n=t.map(function(e){return a({},e)});return n.forEach(function(e,t){e.includedBlocks=[];for(var r=t+1;r<n.length;r+=1){var a=n[r];pt(e,a)&&(e.includedBlocks.push(r),a.includedInto=t)}}),{blocks:n,appointmentForest:r}})};exports.findIncludedBlocks=lt;var pt=function(e,t){var r=e.start,n=e.end,a=e.minOffset,o=e.maxOffset,u=t.start,i=t.end,s=t.minOffset,l=t.maxOffset;return Ke(r,n,u)&&Ke(r,n,i)&&l<=o&&s>=a},dt=function(e){return e.map(function(e){var t=e.blocks,r=e.appointmentForest,n=t.map(function(e){return a({},e)});return n.forEach(function(e,t){e.children=[];for(var r=t+1;r<n.length;r+=1){var a=n[r];ft(e,a)&&(e.children.push(r),a.parent=t)}return e}),{appointmentForest:r,blocks:n}})};exports.findChildBlocks=dt;var ft=function(e,t){var r=e.start,n=e.endForChildren,a=e.minOffset,o=e.includedInto,u=t.start,i=t.includedInto,s=t.maxOffset;return Ke(r,n,u)&&s+1===a&&(void 0===i||i===o)},ct=function(e,t){return e.map(function(e){var t=e.blocks,r=e.appointmentForest,n=xt(t,r.items);return{blocks:vt(n,r.items),appointmentForest:r}}).map(function(e){var r=e.blocks,n=e.appointmentForest;return a(a({},n),{items:Dt(n.items,r,t)})})};exports.adjustByBlocks=ct;var xt=function(e,t){return yt(Ot(ht(e),t))},vt=function(e,t){var r=e.map(function(e){e.right;var t=o(e,[\"right\"]);return a({},t)}),n=Ot(Rt(r,t),t);return yt(n)},Dt=function(e,t,r){var n=e.map(function(e){return a({},e)}),o=t.map(function(e){return a({},e)});return o.forEach(function(e,t){if(0!==t){var a=e.items,u=e.left,i=e.right,s=e.children,l=Tt(o,e),p=l*i,d=u*l;a.forEach(function(e,t){var a=n[e];if(0===t){var u=rt(n,o,a,p,r,d),i=u.left,f=u.width;a.data.left=i,a.data.width=f,d!==i&&s.forEach(function(e){mt(o,e,i/l)})}else{var c=rt(n,o,a,p,r,void 0),x=c.left;f=c.width;a.data.left=x,a.data.width=f}})}}),t[0].items.forEach(function(e){var a=n[e],o=rt(n,t,a,1,r,void 0),u=o.left,i=o.width;a.data.left=u,a.data.width=i}),n},mt=function(e,t,r){var n=e[t],a=n.leftOffset,o=n.size,u=n.leftLimit,i=n.children;n.right=r;var s=r-(r-u)*o/(o+a);n.left=s,i.forEach(function(t){mt(e,t,s)})},Tt=function(e,t){var r=t.includedInto;if(void 0===r)return 1;var n=e[r];return n.right*Tt(e,n)};exports.calculateIncludedBlockMaxRight=Tt;var ht=function(e){return e.map(function(t){var r=Et(e,t);return a(a({},t),{totalSize:r,leftOffset:r-t.size})})};exports.calculateBlocksTotalSize=ht;var Et=function(e,t){var r=t.children,n=t.size;return 0===r.length?n:Math.max.apply(Math,i(r.map(function(t){return Et(e,e[t])})))+n},Ot=function(e,t){return e.map(function(r){var n=At(e,t,r);return a(a({},r),{leftLimit:n})})};exports.calculateBlocksLeftLimit=Ot;var At=function(e,t,r){var n=r,a=n.children,o=n.items,u=n.left;return 0===a.length?void 0!==u?Math.min(u,t[o[0]].data.left):t[o[0]].data.left:Math.min.apply(Math,i(a.map(function(r){return At(e,t,e[r])})))},yt=function(e){var t=e.map(function(e){return a({},e)});return t.forEach(function(e){var r=e.parent,n=e.leftLimit,a=e.leftOffset,o=e.totalSize;if(void 0===r)return e.right=1,void(e.left=(1-n)*a/o+n);var u=t[r],i=u.left,s=u.totalSize;e.totalSize=s,e.right=i,e.left=(1-n)*a/s+n}),t};exports.updateBlocksProportions=yt;var Rt=function(e,t){return e.map(function(r){var n=r.items,o=r.left,u=t[n[0]].parent;if(void 0===u)return r;var i=t[u],s=e[i.blockIndex];return a(a({},r),{left:void 0===s.parent?o:e[s.parent].left})})};exports.updateBlocksLeft=Rt;var gt=function(e,t){var r=ze(e,t),n=Math.min(1/Xe(r),_e),a=Qe(r,n),o=nt(a),u=ut(o),i=lt(u),s=dt(i);return ct(s,n)},_t=function(e,t,r,n,a){var o,u=e.growDirection,s=e.multiline,l=u===y,p=t.map(Ge).reduce(function(e,t){return i(e,be(t,l))},[]),d=n.cellDuration,f=n.placeAppointmentsNextToEachOther,c=l?Me:f?Ye:Le,x=He(p,l),v=!l&&!f;return v&&(o=gt(x,d)),(v?Fe(o):Ve(x)).map(function(e){return c(e,a,{rectByDates:r,multiline:s,rectByDatesMeta:n})}).sort(function(e,t){return e.offset>=t.offset?1:-1})};exports.calculateRectByDateAndGroupIntervals=_t;var It=function(e,t){var r=e.start,n=e.end,a=e.dataItem,o=e.key;if(r.isSame(n,\"day\"))return[e];var u=t/2,i=r.clone().endOf(\"day\").diff(r,\"minutes\")<u,s=n.clone().diff(n.clone().startOf(\"day\"),\"minutes\")<u,l=O(o,r),p=O(o,n);return[i?{start:r.clone().endOf(\"day\").add(-u,\"minutes\"),end:r.clone().endOf(\"day\"),dataItem:a,key:l}:{start:r,end:r.clone().endOf(\"day\"),dataItem:a,key:l},s?{start:n.clone().startOf(\"day\"),end:n.clone().startOf(\"day\").add(u,\"minutes\"),dataItem:a,key:p}:{start:n.clone().startOf(\"day\"),end:n,dataItem:a,key:p}]};exports.sliceAppointmentByDay=It;var St=function(t,r,n,a){void 0===a&&(a=[]);var o=(0,e.default)(r),u=(0,e.default)(n),i=(0,e.default)(t.start).hour(o.hour()).minutes(o.minutes()),s=(0,e.default)(t.start).hour(u.hour()).minutes(u.minutes());return!t.end.isBefore(o)&&!t.start.isAfter(u)&&(-1===a.findIndex(function(r){return r===(0,e.default)(t.start).day()})&&(t.end.isAfter(i)&&t.start.isBefore(s)))};exports.dayBoundaryPredicate=St;var Nt=function(t,r,n,o){var u=(0,e.default)(r),i=(0,e.default)(n),s=(0,e.default)(t.start).hour(u.hour()).minutes(u.minutes()).seconds(u.seconds()),l=(0,e.default)(t.start).hour(i.hour()).minutes(i.minutes()).seconds(i.seconds()),p=o/2,d=l.clone().diff(t.start,\"minutes\")<p,f=t.end.clone().diff(s,\"minutes\")<p;return d?a(a({},t),{start:l.clone().add(-p,\"minutes\"),end:l}):f?a(a({},t),{start:s,end:s.clone().add(p,\"minutes\")}):a(a(a({},t),t.start.isSameOrBefore(s)?{start:s}:null),t.end.isSameOrAfter(l)?{end:l}:null)};exports.reduceAppointmentByDayBounds=Nt;var Ct=function(t,r){var n=r/2,o=(0,e.default)(t.start),u=(0,e.default)(t.end);return u.diff(o,\"minutes\")>n?a(a({},t),{start:o,end:u}):u.isSame(o.clone().add(n,\"minutes\"),\"day\")?a(a({},t),{start:o,end:o.clone().add(n,\"minutes\")}):a(a({},t),{start:o.clone().endOf(\"day\").add(-n,\"minutes\"),end:o.clone().endOf(\"day\")})};exports.normalizeAppointmentDuration=Ct;var Mt=function(t,r){return t[0].findIndex(function(t){return(0,e.default)(r).isSame(t.startDate,\"date\")})};exports.getWeekVerticallyGroupedColumnIndex=Mt;var Lt=function(t,r,n){return t[0].findIndex(function(t){var a=pe(t,r);return(0,e.default)(n).isSame(t.startDate,\"date\")&&a})};exports.getWeekHorizontallyGroupedColumnIndex=Lt;var Yt=function(e,t,r,n,a,o){var u=e.length/o,i=wt(e,r,n,a);if(!e[0][0].groupingInfo)return i;for(var s=!pe(e[i][n],t);s;)s=!pe(e[i+=u][n],t);return i};exports.getWeekVerticallyGroupedRowIndex=Yt;var wt=function(t,r,n,a){return t.findIndex(function(t){return(0,e.default)(r).isBetween(t[n].startDate,t[n].endDate,\"seconds\",a?\"(]\":\"[)\")})};exports.getWeekHorizontallyGroupedRowIndex=wt;var Bt=function(e,t,r,n,a){return[e.map(function(e){return Ct(e,a)}).reduce(function(e,a){return i(e,m(a,t,r,n,!0))},[]).reduce(function(e,t){return i(e,It(t,a))},[]).filter(function(e){return St(e,t,r,n)}).map(function(e){return Nt(e,t,r,a)})]};exports.calculateWeekDateIntervals=Bt;var kt=10,Gt=1,Pt=4,bt=function(e,t,r,n,a){void 0===a&&(a=!1);var o=r.groupOrientation,u=r.groupCount,i=o===te?Mt(t,n):Lt(t,e,n),s=o===te?Yt(t,e,n,i,a,u):wt(t,n,i,a);return{index:s*t[0].length+i,startDate:t[s][i].startDate}};exports.getVerticalCellIndexByAppointmentData=bt;var Ut=function(t,r,n,a,o,u,i){var s=bt(r,n,i,t,u),l=s.index,p=s.startDate,d=o.getCellRects[l]();return{top:d.top,left:d.left,width:d.width,topOffset:d.height*((0,e.default)(t).diff(p,\"minutes\")/a),parentRect:o.parentRect()}},Wt=function(e,t,r){var n=r.viewCellsData,a=r.cellDuration,o=r.cellElementsMeta,u=r.placeAppointmentsNextToEachOther,i=Ut(e.start.toDate(),e,n,a,o,!1,t),s=Ut(e.end.toDate(),e,n,a,o,!0,t),l=i.top+i.topOffset,p=s.top+s.topOffset-l;return{width:i.width-kt-Gt,top:l-i.parentRect.top+Gt,left:i.left-i.parentRect.left+Gt,parentWidth:i.parentRect.width,height:u?p-Pt:p}};exports.getVerticalRectByAppointmentData=Wt;var Ht=function(e){return e.end.diff(e.start,\"hours\")>23||!!e.allDay};exports.allDayPredicate=Ht;var Ft=function(t,r,n,a,o){var u=(0,e.default)(n),i=r.groupOrientation,s=r.groupCount,l=i===re?Kt(t,u,a):Vt(t,u),p=(i===re?0:zt(t,a,s))*t[0].length+l;return o&&u.format()===u.startOf(\"day\").format()&&(p-=1),p};exports.getAllDayCellIndexByAppointmentData=Ft;var Vt=function(e,t){return e[0].findIndex(function(e){return t.isSame(e.startDate,\"date\")})};exports.getAllDayVerticallyGroupedColumnIndex=Vt;var Kt=function(e,t,r){return e[0].findIndex(function(e){return t.isSame(e.startDate,\"date\")&&pe(e,r)})};exports.getAllDayHorizontallyGroupedColumnIndex=Kt;var zt=function(e,t,r){return e.findIndex(function(e){return pe(e[0],t)})*r/e.length};exports.getAllDayVerticallyGroupedRowIndex=zt;var qt=function(t,r,n,o){void 0===o&&(o=[]);var u=t.start.clone(),i=t.end.clone(),s=u.clone(),l=i.clone();if(u.isBefore(r)&&(s=(0,e.default)(r)).startOf(\"day\"),i.isAfter(n)&&(l=(0,e.default)(n)).endOf(\"day\"),-1!==o.findIndex(function(e){return e===u.day()}))for(;-1!==o.findIndex(function(e){return e===s.day()})&&s.isSameOrBefore(i,\"day\");)s.add(1,\"days\").startOf(\"day\");if(-1!==o.findIndex(function(e){return e===i.day()}))for(;-1!==o.findIndex(function(e){return e===l.day()})&&s.isSameOrAfter(u,\"day\");)l.add(-1,\"days\").endOf(\"day\");return[a(a({},t),{start:s,end:l})]};exports.sliceAppointmentsByBoundaries=qt;var jt=function(t,r){void 0===r&&(r=[]);for(var n=t.start,o=t.end,u=n.clone(),i=[];u.isBefore(o);)-1===r.findIndex(function(e){return e===u.day()})&&i.push(a(a({},t),{start:u,end:(0,e.default)(u).endOf(\"day\")})),u=(0,e.default)(u).add(1,\"day\");return i};exports.sliceAppointmentsByDays=jt;var Jt={interval:1};exports.DEFAULT_RULE_OBJECT=Jt;var Zt={MONDAY:0,TUESDAY:1,WEDNESDAY:2,THURSDAY:3,FRIDAY:4,SATURDAY:5,SUNDAY:6};exports.DAYS_OF_WEEK=Zt;var Xt=[t.RRule.MO,t.RRule.TU,t.RRule.WE,t.RRule.TH,t.RRule.FR,t.RRule.SA,t.RRule.SU];exports.RRULE_DAYS_OF_WEEK=Xt;var Qt=7;exports.DAYS_IN_WEEK=Qt;var $t=[Zt.SUNDAY,Zt.MONDAY,Zt.TUESDAY,Zt.WEDNESDAY,Zt.THURSDAY,Zt.FRIDAY,Zt.SATURDAY];exports.DAYS_OF_WEEK_ARRAY=$t;var er={JANUARY:1,FEBRUARY:2,MARCH:3,APRIL:4,MAY:5,JUNE:6,JULY:7,AUGUST:8,SEPTEMBER:9,OCTOBER:10,NOVEMBER:11,DECEMBER:12};exports.MONTHS=er;var tr={YEARLY:t.RRule.YEARLY,MONTHLY:t.RRule.MONTHLY,WEEKLY:t.RRule.WEEKLY,DAILY:t.RRule.DAILY,HOURLY:t.RRule.HOURLY,MINUTELY:t.RRule.MINUTELY};exports.RRULE_REPEAT_TYPES=tr;var rr={DAILY:\"daily\",WEEKLY:\"weekly\",MONTHLY:\"monthly\",YEARLY:\"yearly\",NEVER:\"never\"};exports.REPEAT_TYPES=rr;var nr=[rr.DAILY,rr.WEEKLY,rr.MONTHLY,rr.YEARLY];exports.REPEAT_TYPES_ARRAY=nr;var ar=[\"firstLabel\",\"secondLabel\",\"thirdLabel\",\"fourthLabel\",\"lastLabel\"];exports.WEEK_NUMBER_LABELS=ar;var or=\"endRepeat\";exports.END_REPEAT_RADIO_GROUP=or;var ur=\"monthlyRadioGroup\";exports.MONTHLY_RADIO_GROUP=ur;var ir=\"yearlyRadioGroup\";exports.YEARLY_RADIO_GROUP=ir;var sr=\"titleTextEditor\";exports.TITLE_TEXT_EDITOR=sr;var lr=\"multilineTextEditor\";exports.MULTILINE_TEXT_EDITOR=lr;var pr=\"ordinaryTextEditor\";exports.ORDINARY_TEXT_EDITOR=pr;var dr=\"numberEditor\";exports.NUMBER_EDITOR=dr;var fr=\"title\";exports.TITLE=fr;var cr=\"ordinaryLabel\";exports.ORDINARY_LABEL=cr;var xr=\"saveButton\";exports.SAVE_BUTTON=xr;var vr=\"deleteButton\";exports.DELETE_BUTTON=vr;var Dr=\"cancelButton\";exports.CANCEL_BUTTON=Dr;var mr=\"outlinedSelect\";exports.OUTLINED_SELECT=mr;var Tr=\"standardSelect\";exports.STANDARD_SELECT=Tr;var hr=new Date(2019,7,11);exports.SUNDAY_DATE=hr;var Er=new Date(2019,7,12);exports.MONDAY_DATE=Er;var Or=new Date(2019,7,13);exports.TUESDAY_DATE=Or;var Ar=new Date(2019,7,14);exports.WEDNESDAY_DATE=Ar;var yr=new Date(2019,7,15);exports.THURSDAY_DATE=yr;var Rr=new Date(2019,7,16);exports.FRIDAY_DATE=Rr;var gr=new Date(2019,7,17);exports.SATURDAY_DATE=gr;var _r=[hr,Er,Or,Ar,yr,Rr,gr];exports.DAYS_OF_WEEK_DATES=_r;var Ir=new Date(2019,0,1);exports.JANUARY_DATE=Ir;var Sr=new Date(2019,1,1);exports.FEBRUARY_DATE=Sr;var Nr=new Date(2019,2,1);exports.MARCH_DATE=Nr;var Cr=new Date(2019,3,1);exports.APRIL_DATE=Cr;var Mr=new Date(2019,4,1);exports.MAY_DATE=Mr;var Lr=new Date(2019,5,1);exports.JUNE_DATE=Lr;var Yr=new Date(2019,6,1);exports.JULY_DATE=Yr;var wr=new Date(2019,7,1);exports.AUGUST_DATE=wr;var Br=new Date(2019,8,1);exports.SEPTEMBER_DATE=Br;var kr=new Date(2019,9,1);exports.OCTOBER_DATE=kr;var Gr=new Date(2019,10,1);exports.NOVEMBER_DATE=Gr;var Pr=new Date(2019,11,1);exports.DECEMBER_DATE=Pr;var br=[Ir,Sr,Nr,Cr,Mr,Lr,Yr,wr,Br,kr,Gr,Pr];exports.MONTHS_DATES=br;var Ur=0;exports.FIRST_WEEK=Ur;var Wr=1;exports.SECOND_WEEK=Wr;var Hr=2;exports.THIRD_WEEK=Hr;var Fr=3;exports.FOURTH_WEEK=Fr;var Vr=4;exports.LAST_WEEK=Vr;var Kr=5;exports.BASIC_YEALY_COUNT=Kr;var zr=12;exports.BASIC_MONTHLY_COUNT=zr;var qr=13;exports.BASIC_WEEKLY_COUNT=qr;var jr=30;exports.BASIC_DAILY_COUNT=jr;var Jr=function(e,t,r){var n=e.left,u=e.right,i=[],s=t.start,l=t.end,p=t.key,d=o(t,[\"start\",\"end\",\"key\"]),f=s,c=l;f.isBefore(n)&&(f=n.clone()),c.isAfter(u)&&(c=u.clone());for(var x=f.clone(),v=f.clone(),D=0;v.isBefore(c);){var m=n.clone().add(r*D,\"days\").subtract(1,\"second\");m.isAfter(f)&&((v=f.clone().add(r*D,\"days\")).isAfter(m)&&(v=m.clone()),v.isAfter(c)&&(v=c.clone()),x.isSameOrAfter(v)||(i.push(a({start:x,end:v,key:O(p,x)},d)),x=v.clone().add(1,\"second\"))),D+=1}return i};exports.sliceAppointmentByWeek=Jr;var Zr=function(t,r,n,a,o){void 0===o&&(o=!1);var u=r.groupOrientation,i=r.groupedByDate,s=r.groupCount,l=(0,e.default)(t[0][0].startDate),p=(0,e.default)(n),d=p.diff(l,\"days\");o&&p.format()===p.startOf(\"day\").format()&&(d-=1);var f=Math.floor(d/Qt),c=d%Qt,x=u===re?Xr(t,a,f,c,s,i):c;return(u===re?f:Qr(t,a,f,c,s))*t[0].length+x};exports.getMonthCellIndexByAppointmentData=Zr;var Xr=function(e,t,r,n,a,o){for(var u=-1,i=o?n*a:n,s=o?1:Qt;-1===u;){pe(e[r][i],t)&&(u=i),i+=s}return u};exports.getMonthHorizontallyGroupedColumnIndex=Xr;var Qr=function(e,t,r,n,a){for(var o=e.length/a,u=-1,i=r;-1===u;){pe(e[i][n],t)&&(u=i),i+=o}return u};exports.getMonthVerticallyGroupedRowIndex=Qr;var $r=.32,en=1,tn=function(e,t,r,n,a,o,u){var i=u?Zr(r,n,e,t,o):Ft(r,n,e,t,o),s=a.getCellRects[i]();return{top:s.top,left:s.left,width:s.width,height:s.height,parentRect:a.parentRect()}},rn=function(e,t,r){var n=r.multiline,a=r.viewCellsData,o=r.cellElementsMeta,u=tn(e.start.toDate(),e,a,t,o,!1,n),i=tn(e.end.toDate(),e,a,t,o,!0,n),s=u.top+u.height*$r,l=u.height-u.height*$r;return{top:s-u.parentRect.top,left:u.left-u.parentRect.left+en,width:i.left-u.left+u.width-en,height:l,parentWidth:u.parentRect.width}};exports.getHorizontalRectByAppointmentData=rn;var nn=7,an=31,on=function(t,r,n,a){void 0===n&&(n=1);for(var o=(0,e.default)(t),u=[o.month()];u.length<n;)u.push(o.add(1,\"months\").month());for(var i=(0,e.default)(t).date(1),s=i.day()-r,l=i.day(s).day()||nn,p=(0,e.default)(t).subtract(1,\"months\"),d=p.daysInMonth()-(l-1),f=(0,e.default)().year(p.year()).month(p.month()).date(d).startOf(\"day\"),c=[];c.length<Math.trunc(an*n/nn)+2;){for(var x=[];x.length<nn;)x.push({startDate:f.toDate(),endDate:f.clone().add(1,\"day\").toDate(),otherMonth:-1===u.findIndex(function(e){return e===f.month()}),today:!!a&&(0,e.default)(a).isSame(f,\"date\")}),f.add(1,\"day\");c.push(x)}return c};exports.monthCellsData=on;var un=function(t,r,n){return[t.map(function(t){var r=t.start,n=t.end,u=o(t,[\"start\",\"end\"]);return a({start:(0,e.default)(r),end:(0,e.default)(n)},u)}).reduce(function(e,t){return i(e,m(t,r,n,[],!1))},[]).reduce(function(t,a){return i(t,Jr({left:(0,e.default)(r),right:(0,e.default)(n)},a,nn))},[])]};exports.calculateMonthDateIntervals=un;var sn=function(t,r,n,u){return[t.map(function(t){var r=t.start,n=t.end,u=o(t,[\"start\",\"end\"]);return a({start:(0,e.default)(r),end:(0,e.default)(n)},u)}).reduce(function(e,t){return i(e,m(t,r,n,u,!1))},[]).filter(function(e){return Ht(e)}).reduce(function(e,t){return i(e,qt(t,r,n,u))},[])]};exports.calculateAllDayDateIntervals=sn;var ln=function(e){return{id:e.id,fieldName:e.fieldName,text:e.text}};exports.getGroupFromResourceInstance=ln;var pn=function(e,t,r,n,o,u,i){return n.map(function(s,l){var p=dn(e,t,r,s,o,u,i);return l===n.length-1&&i===re?a(a({},p),{endOfGroup:!0}):p})};exports.addGroupInfoToCells=pn;var dn=function(e,t,r,n,o,u,s){var l=o,p=t.reduceRight(function(e,n,a){if(a===t.length-1)return e;var o=r[a+1].instances.length,u=n[Math.floor(l/o)];return l=a,i(e,[u])},[e]);return a(a({},n),{groupingInfo:p,endOfGroup:u,groupOrientation:s})};exports.addGroupInfoToCell=dn;var fn=function(e,t,r,n){var a=r;return e.reduceRight(function(r,n,o){return o===e.length-1?r:i(r,[n[a=Math.floor(a/t[o+1].instances.length)]])},[n])},cn=function(e,t,r){if(!t||!r)return[e.slice()];var n=t.find(function(e){return e.isMain});return r[r.length-1].map(function(o,u){var s=fn(r,t,u,o);return e.reduce(function(e,t){var r;if(!s.reduce(function(e,r){return e&&r.id===t[r.fieldName]},!0))return e;var o=s.find(function(e){return e.fieldName===n.fieldName}).id;return i(e,[a(a({},t),{dataItem:a(a({},t.dataItem),(r={},r[n.fieldName]=xn(n,t,o),r)),resources:t.resources&&vn(n,t,o)})])},[])})};exports.groupAppointments=cn;var xn=function(e,t,r){return e.allowMultiple?i([r],t.dataItem[e.fieldName].filter(function(e){return e!==r})):r},vn=function(e,t,r){var n;if(!e.allowMultiple)return t.resources;var a=t.resources.slice(),o=a.findIndex(function(e){return e.isMain}),i=a.findIndex(function(e){return e.isMain&&e.id===r});return n=u([a[i],a[o]],2),a[o]=n[0],a[i]=n[1],a};exports.rearrangeResources=vn;var Dn=function(e,t,r){return r&&t?r.reduce(function(e,r){if(!(void 0!==t.find(function(e){return e.resourceName===r.fieldName})))return e;var n=r.fieldName;return r.allowMultiple?e.reduce(function(e,t){return i(e,t.dataItem[n].map(function(e){var r;return a(a({},t),((r={})[n]=e,r.key=mn(t.key,e),r))}))},[]):e.reduce(function(e,t){var r;return i(e,[a(a({},t),(r={},r[n]=t.dataItem[n],r))])},[])},[e]):[e]};exports.expandGroupedAppointment=Dn;var mn=function(e,t){return e+\"_\"+t},Tn=function(e,t){var r=t;return e.reduceRight(function(t,n,a){if(a===e.length-1)return t;var o=e[a+1].length/n.length,u=n[Math.floor(r/o)];return r=a,i(t,[u])},[hn(e)[t]])};exports.getGroupingInfoFromGroups=Tn;var hn=function(e){return e[e.length-1]};exports.getGroupsLastRow=hn;var En=function(e,t){return e.filter(function(e){return t.find(function(t){return e.fieldName===t.resourceName})})};exports.filterResourcesByGrouping=En;var On=function(e,t){return t.map(function(t){var r=t.resourceName;return e.find(function(e){return e.fieldName===r})})};exports.sortFilteredResources=On;var An=function(e){return e.reduce(function(e,t,r){return 0===r?[t.instances.map(function(e){return ln(e)})]:i(e,[e[r-1].reduce(function(e){return i(e,t.instances.map(function(e){return ln(e)}))},[])])},[])};exports.getGroupsFromResources=An;var yn=function(e,t,r,n,a){return 0===t.length?e:n?Rn(e,t,r):a===re?gn(e,t,r):_n(e,t,r)};exports.expandViewCellsDataWithGroups=yn;var Rn=function(e,t,r){return e.map(function(e){return e.reduce(function(e,n){var o=hn(t).map(function(e,a){return dn(e,t,r,n,a,!1,re)});return o[o.length-1]=a(a({},o[o.length-1]),{endOfGroup:!0}),i(e,o)},[])})},gn=function(e,t,r){return hn(t).reduce(function(n,a,o){return 0===o?e.map(function(e){return pn(a,t,r,e,o,!1,re)}):n.map(function(n,u){return i(n,pn(a,t,r,e[u],o,!1,re))})},[[]])},_n=function(e,t,r){return hn(t).reduce(function(n,a,o){return 0===o?e.map(function(n,u){return pn(a,t,r,n,o,u===e.length-1,te)}):i(n,e.map(function(n,u){return pn(a,t,r,n,o,u===e.length-1,te)}))},[[]])},In=function(e,t){return e||[{resourceName:t.find(function(e){return e.isMain}).fieldName}]};exports.updateGroupingWithMainResource=In;var Sn=function(e,t,r,n,a,o){void 0===o&&(o=!1);var u=(o?e[0].reduce(function(e,t){return i(e,jt(t,a))},[]):e[0]).reduce(function(e,n){return i(e,Dn(n,t,r))},[]);return cn(u,r,n)};exports.expandGroups=Sn;var Nn=function(e,t,r,n,a,o){if(Mn(e,t,o,n))return e;for(var u=Ln(e,a,r),i=u.groupCount,s=u.timeTableWidth,l=u.groupSize,p=u.validGetCellRects,d=i;d>0;)d-=1,p.splice(d*(s+l),s);return{parentRect:e.parentRect,getCellRects:p}};exports.updateTimeTableCellElementsMeta=Nn;var Cn=function(e,t,r,n,a,o,u){if(Mn(t,r,u,a))return e;for(var i=Ln(t,o,n),s=i.groupCount,l=i.timeTableWidth,p=i.groupSize,d=i.validGetCellRects,f=s;f>0;)f-=1,d.splice(p*f+l*(f+1),p);return{parentRect:t.parentRect,getCellRects:d}};exports.updateAllDayCellElementsMeta=Cn;var Mn=function(e,t,r,n){return t(r.name)===re||!n||!e.getCellRects},Ln=function(e,t,r){var n=t[0].length,a=hn(r).length;return{groupCount:a,timeTableWidth:n,groupSize:n*(t.length/a),validGetCellRects:e.getCellRects.slice()}},Yn=function(e,t,r,n,a){var o=e[0][0].startDate;return ve(o)?a!==te?t:_n(t,r,n):e};exports.updateTimeCellsData=Yn;var wn=function(e,t,r,n,a,o,u,i,s,l,p){var d=sn(e,t,r,n),f=Sn(d,u,i,s,n,p);return _t({growDirection:y,multiline:!1},f,rn,{startViewDate:t,endViewDate:r,viewCellsData:a,cellElementsMeta:o,excludedDays:n},{groupOrientation:l,groupedByDate:p,groupCount:s?hn(s).length:1})};exports.allDayRects=wn;var Bn=function(e,t,r,n,a,o,u,i,s,l,p,d){var f=Bt(e,t,r,n,o),c=Sn(f,i,s,l,n,!1);return _t({growDirection:A,multiline:!1},c,Wt,{startViewDate:t,endViewDate:r,viewCellsData:a,cellDuration:o,cellElementsMeta:u},{groupOrientation:p,groupedByDate:d,groupCount:l?hn(l).length:1})};exports.verticalTimeTableRects=Bn;var kn=function(e,t,r,n,a,o,u,i,s,l){var p=un(e,t,r),d=Sn(p,o,u,i,[],l);return _t({growDirection:y,multiline:!0},d,rn,{startViewDate:t,endViewDate:r,viewCellsData:n,cellElementsMeta:a},{groupOrientation:s,groupedByDate:l,groupCount:i?hn(i).length:1})};exports.horizontalTimeTableRects=kn;var Gn=function(e,t){return new Intl.DateTimeFormat(e,t)},Pn=function(e){return e.map(function(e,t){return a(a(a(a(a({dataItem:e,start:e.startDate},void 0!==e.endDate?{end:e.endDate}:{end:e.startDate,dataItem:a(a({},e),{endDate:e.startDate})}),void 0!==e.allDay&&{allDay:e.allDay}),void 0!==e.rRule&&{rRule:e.rRule}),void 0!==e.exDate&&{exDate:e.exDate}),{key:e.id||t})})};exports.appointments=Pn;var bn=function(e){var t=new Map;return function(r,n){if(void 0===r)return\"\";var a=fe(r).toDate(),o=t.get(n);return o||(o=Gn(e,n),t.set(n,o)),o.format(a)}};exports.formatDateTimeGetter=bn;var Un=function(e,t,r){var n=t;return e.reduceRight(function(t,a,o){if(r<o)return t;var u=a[n].id;if(o>0){var i=e[o].length/e[o-1].length;n=Math.floor(n/i)}return t+u},\"\")};exports.getCellKey=Un;var Wn=function(e,t,r,n,a){for(var o=[],u=t.length,s=e/hn(n).length,l=hn(n).length/u,p=function(e){o=i(o,t.reduce(function(t,o,s){return i(t,[{group:o,colSpan:l,key:Un(n,s,a)+e,left:r.left,endOfGroup:s===u-1}])},[]))},d=0;d<s;d+=1)p(d);return o};exports.getRowFromGroups=Wn;var Hn=function(e,t,r,n,a,o){return e.reduce(function(u,s,l){var p=hn(e).length/s.length,d=t/p,f=r*p*n/hn(e).length,c=p*o;return t%p!=0?u:i(u,[{group:s[d],rowSpan:p,height:a?f+c:f,key:Un(e,d,l)}])},[])};exports.getVerticalRowFromGroups=Hn;var Fn=function(e,t,r,n){var a=r*n,o=a+n;return t.slice(a,o-1).reduce(function(t,n){return i(t,[{startDate:n[0].startDate,endDate:n[0].endDate,key:n[0].endDate+Un(e,r,e.length-1),groupingInfo:n[0].groupingInfo}])},[])},Vn=function(e,t,r){if(r===re)return[e.map(function(e){return{startDate:e[0].startDate,endDate:e[0].endDate,groupingInfo:e[0].groupingInfo,key:e[0].endDate}})];var n=hn(t).length,a=e.length/n;return hn(t).reduce(function(r,n,o){return i(r,[Fn(t,e,o,a)])},[])};exports.getLabelsForAllGroups=Vn;var Kn=function(e,t){for(var r=(null==t?void 0:t.length)||1,n=[],a=e.length/r,o=0;o<r;o+=1)n.push(e.slice(o*a,(o+1)*a));return n};exports.prepareVerticalViewCellsData=Kn;var zn=function(t,r){var n=r.nextDate,a=r.step,o=r.amount,u=r.direction;return n||(0,e.default)(t)[\"back\"===u?\"subtract\":\"add\"](o,a).toDate()||(0,e.default)().subtract(o,a)};exports.changeCurrentDate=zn;var qn=function(e,t){return t};exports.setCurrentViewName=qn;var jn=function(e,t){return{target:t.target,data:t.data}};exports.setAppointmentMeta=jn;var Jn=\"open\";exports.OPEN_COMMAND_BUTTON=Jn;var Zn=\"close\";exports.CLOSE_COMMAND_BUTTON=Zn;var Xn=\"delete\";exports.DELETE_COMMAND_BUTTON=Xn;var Qn=\"cancel\";exports.CANCEL_COMMAND_BUTTON=Qn;var $n=\"commit\";exports.COMMIT_COMMAND_BUTTON=$n;var ea=function(e,t){return t.appointmentData};exports.setAppointmentData=ea;var ta=function(e){return ar.map(function(t,r){return{text:e(t),id:r}})};exports.getWeekNumberLabels=ta;var ra=function(e,t){var r=Ra(t);return ga(t).map(function(t,n){return{text:ia(t,e),id:n+1<Qt?r[n+1]:r[0]}})};exports.getDaysOfWeek=ra;var na=function(e){return br.map(function(t,r){return{text:ua(t,e),id:sa(r)}})};exports.getMonths=na;var aa=function(e,t){return br.map(function(r,n){return{text:oa(r,e,t),id:sa(n)}})};exports.getMonthsWithOf=aa;var oa=function(e,t,r){return t(\"ofLabel\")+r(e,q).replace(/[\\d.,]/g,\"\").toString()},ua=function(e,t){return t(e,z)},ia=function(e,t){return t(e,K)},sa=function(e){return e+1},la=function(e){return nr.map(function(t){return{text:e(t),id:t}})};exports.getAvailableRecurrenceOptions=la;var pa=function(e){var t;switch(e){case tr.YEARLY:t=Kr;break;case tr.MONTHLY:t=zr;break;case tr.WEEKLY:t=qr;break;case tr.DAILY:t=jr}return t};exports.getCountDependingOnRecurrenceType=pa;var da=function(e){return e>0&&e<=Number.MAX_SAFE_INTEGER};exports.checkIsNaturalNumber=da;var fa=function(e,t){e&&e(t)};exports.callActionIfExists=fa;var ca=function(t,r){return(0,e.default)(r).diff((0,e.default)(t),\"days\")>=1};exports.isAllDayCell=ca;var xa=function(e,r,n){if(!e)return r===tr.MONTHLY?new t.RRule(a(a({},Jt),{freq:r,bymonthday:[n.getDate()],count:pa(r)})).toString():r===tr.YEARLY?new t.RRule(a(a({},Jt),{freq:r,bymonthday:[n.getDate()],bymonth:n.getMonth()+1,count:pa(r)})).toString():new t.RRule(a(a({},Jt),{freq:r,count:pa(r)})).toString();var o=t.RRule.parseString(e);return o.freq===r?e:(o.freq=r,o.count=pa(r),r!==tr.MONTHLY&&r!==tr.YEARLY||(o.bymonthday=n.getDate()),r===tr.YEARLY&&(o.bymonth=n.getMonth()+1),r!==tr.DAILY&&r!==tr.WEEKLY||(o.bymonthday=void 0),o.byweekday=void 0,new t.RRule(o).toString())};exports.changeRecurrenceFrequency=xa;var va=function(e){return e?t.RRule.parseString(e):null};exports.getRecurrenceOptions=va;var Da=function(e){return e?new t.RRule(a({},e)).toString():void 0};exports.changeRecurrenceOptions=Da;var ma=function(e,t){if(e<=31){var r=a(a({},t),{bymonthday:e});return Da(r)}return Da(t)};exports.handleStartDateChange=ma;var Ta=function(e,t,r){var n=4===e?-1:e+1,o=Xt[t>0?t-1:6],u=a(a({},r),{byweekday:[o.nth(n)],bymonthday:void 0});return Da(u)};exports.handleToDayOfWeekChange=Ta;var ha=function(e){return tr[e.toUpperCase()]};exports.getRRuleFrequency=ha;var Ea=function(e){return e===tr.DAILY?rr.DAILY:e===tr.WEEKLY?rr.WEEKLY:e===tr.MONTHLY?rr.MONTHLY:e===tr.YEARLY?rr.YEARLY:rr.NEVER};exports.getFrequencyString=Ea;var Oa=function(e,t,r,n,a,o){return e.bymonthday&&!Array.isArray(e.bymonthday)?{dayNumberTextField:e.bymonthday,weekNumber:r,dayOfWeek:t,radioGroupValue:a}:e.byweekday?{dayOfWeek:e.byweekday[0].weekday<6?e.byweekday[0].weekday+1:0,weekNumber:-1===e.byweekday[0].n?Vr:e.byweekday[0].n-1,radioGroupValue:o,dayNumberTextField:n}:{dayOfWeek:t,weekNumber:r,radioGroupValue:o,dayNumberTextField:n}};exports.getRadioGroupDisplayData=Oa;var Aa=function(e,t,r,n){var a,o=ha(e);void 0!==o&&(a=xa(t,o,r)),n({rRule:a})};exports.handleChangeFrequency=Aa;var ya=function(e,t){var r=e.byweekday||[],n=r.findIndex(function(e){return e.weekday===t});return-1===n?r.push(Xt[t]):n>-1&&r.splice(n,1),a(a({},e),0===r?{byweekday:void 0}:{byweekday:r})};exports.handleWeekDaysChange=ya;var Ra=function(e){var t=$t.filter(function(t){return t>=e-1&&t<Qt-1}),r=$t.filter(function(t){return t<e-1||t>=Qt-1});return 0!==e?i(t,r):i(r,t)};exports.getDaysOfWeekArray=Ra;var ga=function(e){return i(_r.slice(e,_r.length),_r.slice(0,e))};exports.getDaysOfWeekDates=ga;var _a=function(e,t){return t.reduce(function(t,r){var n;if(!r.allowMultiple)return t;var o=r.fieldName,u=e[o];return a(a({},t),((n={})[o]=Array.isArray(u)?u:[u],n))},e)};exports.checkMultipleResourceFields=_a;var Ia=function(e,t){return(void 0===t?{appointmentData:{}}:t).appointmentData};exports.addAppointment=Ia;var Sa=function(){return{}};exports.cancelAddedAppointment=Sa;var Na=function(e,t){return t};exports.startEditAppointment=Na;var Ca=function(){};exports.stopEditAppointment=Ca;var Ma=function(e,t){var r=t.change;return a(a({},e),r)};exports.changeAppointment=Ma;var La=function(){return{}};exports.cancelChanges=La;var Ya=function(e,t){var r;return(r={})[t]=e,r};exports.changedAppointmentById=Ya;var wa=function(e,t){var r=a({},e);return delete r.id,delete r.rRule,delete r.exDate,delete r.parentData,a(a({},r),t)},Ba=function(t,r){if(t.length>0)return t.split(\",\").reduce(function(t,n){return e.default.utc(n).isBefore(r)?i(t,[n]):t},[]).join(\",\")},ka=function(t,r){var n=e.default.utc(r).format(\"YYYYMMDDTHHmmss\")+\"Z\";return t?t+\",\"+n:n},Ga=function(r,n,o,u){var i=h(n),s=t.RRule.parseString(r),l=s.until?a(a({},s),{until:(0,e.default)(T(s.until)).toDate()}):s,p=(0,e.default)(T(o)).toDate();if(i.rrule(new t.RRule(a(a({},l),{dtstart:p}))),s.count||s.until)return i.all().map(function(t){return(0,e.default)(E(t)).toDate()});var d=p,f=(0,e.default)(T(u)).toDate();return i.between(d,f,!0).map(function(t){return(0,e.default)(E(t)).toDate()})},Pa=function(e,r){var n=new t.RRuleSet;return n.rrule(new t.RRule(a(a({},t.RRule.parseString(e)),r))),n.valueOf()},ba=function(t,r,n){var o,u=t.rRule,i=t.startDate,s=t.parentData,l=t.exDate,p=void 0===l?\"\":l,d=t.id,f=Ua(s.startDate,e.default.utc(i).toDate(),p,u),c=f.initialSequence,x=f.currentChildIndex;if(0===x)return n(t,r);var v=Pa(u,{dtstart:e.default.utc(s.startDate).toDate(),until:e.default.utc(c[x-1]).toDate(),count:null}),D=Ba(p,i);return{changed:(o={},o[d]=a({rRule:v[1].slice(6)},D&&p!==D?{exDate:D}:{}),o)}},Ua=function(t,r,n,a){var o=Ga(a,n,e.default.utc(t).toDate(),e.default.utc(r).toDate()),u=o.findIndex(function(t){return(0,e.default)(t).isSame(r)});return{initialSequence:o,currentChildIndex:u}},Wa=function(t){var r;if(1===Ga(t.rRule,t.exDate,e.default.utc(t.parentData.startDate).toDate(),e.default.utc(t.startDate).toDate()).length)return Ha(t);var n=ka(t.exDate,t.startDate);return{changed:(r={},r[t.id]={exDate:n},r)}};exports.deleteCurrent=Wa;var Ha=function(e){return{deleted:e.id}};exports.deleteAll=Ha;var Fa=function(e){return ba(e,{},Ha)};exports.deleteCurrentAndFollowing=Fa;var Va=function(r,n){var o,u,i=r.rRule,s=r.id,l=new t.RRule(t.RRule.parseString(i));return n.startDate&&e.default.utc(n.startDate).isAfter(l.options.until)?{changed:(o={},o[s]=a(a({},n),{rRule:\"FREQ=DAILY;COUNT=1\",exDate:\"\"}),o)}:{changed:(u={},u[r.id]=n,u)}};exports.editAll=Va;var Ka=function(e,t){var r;return{changed:(r={},r[e.id]={exDate:ka(e.exDate,e.startDate)},r),added:wa(e,t)}};exports.editCurrent=Ka;var za=function(r,n){var o=r.rRule,u=r.startDate,i=r.exDate,s=void 0===i?\"\":i,l=r.parentData,p=new t.RRule(t.RRule.parseString(o)),d=Ua(l.startDate,e.default.utc(u).toDate(),s,o),f=d.initialSequence,c=d.currentChildIndex;if(0===c)return Va(r,n);var x=p.options.count||p.options.until?{count:f.length-c}:{},v=Pa(r.rRule,a({dtstart:e.default.utc(u).toDate()},x)),D=e.default.utc(n.startDate).isAfter(p.options.until)?{rRule:\"FREQ=DAILY;COUNT=1\",exDate:\"\"}:{rRule:v[1].slice(6)};return{changed:ba(r,n,Va).changed,added:a(a({},D),wa(r,n))}};exports.editCurrentAndFollowing=za;var qa=function(e,t,r){if(null===e)switch(r){case J.ALL:return Ha(t);case J.CURRENT:return Wa(t);case J.CURRENT_AND_FOLLOWING:return Fa(t)}else switch(r){case J.ALL:return Va(t,e);case J.CURRENT:return Ka(t,e);case J.CURRENT_AND_FOLLOWING:return za(t,e)}return{}};exports.preCommitChanges=qa;var ja=function(e,t,r){return Math.max(Math.min(e,r),t)},Ja=function(e,t,r){return e===A?t*r*60/2:0},Za=function(t){return(0,e.default)(t.startDate).isSame(t.endDate,\"day\")?A:y};exports.cellType=Za;var Xa=function(t,r){return(0,e.default)(t.endDate).diff(t.startDate,r)};exports.intervalDuration=Xa;var Qa=function(e,t){return e.findIndex(function(e){var r=e(),n=r.left,a=r.top,o=r.right,u=r.bottom;return t&&ja(t.x,n,o)===t.x&&ja(t.y,a,u)===t.y})};exports.cellIndex=Qa;var $a=function(e,t,r,n){var a=-1!==t?n:r,o=-1!==t?t:e,u=a[0].length,i=o%u;return a[Math.floor(o/u)][i]};exports.cellData=$a;var eo=function(e,t,r){to(e.y,t.topBoundary,t.bottomBoundary,t.changeVerticalScroll,r),to(e.x,t.leftBoundary,t.rightBoundary,t.changeHorizontalScroll,r)};exports.autoScroll=eo;var to=function(e,t,r,n,a){e<t+R&&e>t&&n(-a),r-R<e&&n(+a)},ro=function(t,r,n,a,o){if(n!==t.appointmentType)return{appointmentStartTime:void 0,appointmentEndTime:void 0};var u,i,s=t.type;if(s===N){var l=Ja(n,o,a);u=(0,e.default)(r.startDate).add(l,_).toDate(),i=(0,e.default)(t.endDate).toDate()}if(s===C){var p=0===o&&n===A?60*a/2:0;i=(0,e.default)(r.endDate).add(-p,_).toDate(),u=(0,e.default)(t.startDate).toDate()}return(0,e.default)(i).diff(u,I)<1&&(u=(0,e.default)(t.startDate).toDate(),i=(0,e.default)(t.endDate).toDate()),{appointmentStartTime:u,appointmentEndTime:i}};exports.timeBoundariesByResize=ro;var no=function(t,r,n,a,o,u){if(n===y&&Xa(t,_)<Xa(r,_))return{appointmentStartTime:r.startDate,appointmentEndTime:r.endDate,offsetTimeTop:0};var i,s,l,p=Ja(n,o,a),d=(0,e.default)(r.startDate).add(p,_);if(i=null===u?(0,e.default)(r.startDate).diff(t.startDate,_)+p:u,t.type===n){var f=Xa(t,_);s=(0,e.default)(d).add(-1*i,_).toDate(),l=(0,e.default)(d).add(f-i,_).toDate()}else s=(0,e.default)(r.startDate).add(p,_).toDate(),l=(0,e.default)(r.endDate).add(p,_).toDate();return{appointmentStartTime:s,appointmentEndTime:l,offsetTimeTop:i}};exports.timeBoundariesByDrag=no;var ao=function(e,t,r,n,a,o){return e.type===A||e.type===y?no(e,t,r,n,a,o):ro(e,t,r,n,a)};exports.calculateAppointmentTimeBoundaries=ao;var oo=function(e,t,r){if(void 0!==r&&-1!==r){var n=t[r]();return e>n.top+n.height/2?1:0}return 0};exports.calculateInsidePart=oo;var uo=function(e,t,r,n,o,u,i,s,l,p,d,f,c,x,v){if(-1!==e||s===A&&i.getCellRects.length&&Xa(t[0].dataItem,S)>23){var D=t.map(function(e){return a(a({},e),{allDay:!0})});return{allDayDraftAppointments:wn(D,r,n,o,u,i,d,f,c,x,v),timeTableDraftAppointments:[]}}return s===A||-1!==e?{allDayDraftAppointments:[],timeTableDraftAppointments:Bn(t,r,n,o,u,l,p,d,f,c,x,v)}:{allDayDraftAppointments:[],timeTableDraftAppointments:kn(t,r,n,u,p,d,f,c,x,v)}};exports.calculateDraftAppointments=uo;var io=function(e,t,r){return e?e.reduce(function(e,n){var o,u=t.find(function(e){return e.fieldName===n.fieldName}).allowMultiple;return a(a({},e),((o={})[n.fieldName]=u?so(n,r):n.id,o))},{}):{}};exports.calculateAppointmentGroups=io;var so=function(e,t){var r=t[e.fieldName];return-1!==r.findIndex(function(t){return t===e.id})?r:[e.id]},lo=function(t,r,n,a,o,u){return!((0,e.default)(t).isSame(r)&&(0,e.default)(n).isSame(a)&&po(o,u))};exports.appointmentDragged=lo;var po=function(e,t){return Object.getOwnPropertyNames(e).every(function(r){return Array.isArray(e[r])&&Array.isArray(t[r])?e[r].every(function(e,n){return e===t[r][n]}):e[r]===t[r]})},fo=function(e){return void 0!==e};exports.isMonthCell=fo;var co=function(t,r,n){var a=t.data,o=(0,e.default)(r);return a.allDay?o.isAfter(a.endDate,\"day\")&&n:!!o.isAfter(a.endDate)&&n};exports.isShadedAppointment=co;var xo=function(e,t){var r=100*(t-e.startDate.getTime())/(e.endDate.getTime()-e.startDate.getTime());return r<0||r>100?void 0:r+\"%\"};exports.getCurrentTimeIndicatorTop=xo;var vo=function(e,t,r){var n=e.startDate,a=e.endDate,o=e.otherMonth,u=fo(o);return(n.getTime()<t&&!u||a.getTime()<t&&u)&&r};exports.isCellShaded=vo;var Do=function(e,t,r){return t&&0!==t.length&&r&&0!==r.length?t.reduce(function(t,n){var a=e[n.fieldName];return void 0===a?t:n.allowMultiple&&!Array.isArray(a)||!n.allowMultiple&&Array.isArray(a)?t:n.allowMultiple?i(t,a.reduce(function(e,t){return mo(r,e,n,t)},[])):mo(r,t,n,a)},[]):[]};exports.getAppointmentResources=Do;var mo=function(e,t,r,n){var a=e.find(function(e){return r.fieldName===e.fieldName&&e.id===n});return a?i(t,[a]):t},To=function(e){return e.reduce(function(e,t){return i(e,t.instances.map(function(e){return e}))},[])};exports.convertResourcesToPlain=To;var ho=function(e,t,r){var n=!!t,a=0;return e.map(function(e,o){var u=e.fieldName,i=n&&t===u||0===o&&!n,s=e.title||u,l=!!e.allowMultiple;return{fieldName:u,isMain:i,title:s,allowMultiple:l,instances:e.instances.map(function(e){var t=e.color||r[a%r.length];return e.color||(a+=1),{id:e.id,color:t,fieldName:u,text:e.text||s||u,title:s,allowMultiple:l,isMain:i}})}})};exports.validateResources=ho;var Eo=function(e,t,r){return[e.map(function(e){return a(a({},e),{resources:Do(e.dataItem,t,r)})})]};exports.addResourcesToAppointments=Eo;var Oo=function(e,t){var n=t.groupKey,a=(0,r.slice)(e.expandedGroups),o=a.indexOf(n);return o>-1?a.splice(o,1):a.push(n),{expandedGroups:a}};exports.toggleExpandedGroups=Oo;var Ao=function(t){for(var r=t[0][0].startDate,n=1;t[0][n]&&(0,e.default)(t[0][n].startDate).isSame(r,\"day\");)n+=1;return n};exports.getDayScaleCellColSpan=Ao;var yo=function(t,r){if(!r)return t[0].map(function(e,t){var r=e.startDate,n=e.endDate,a=e.today,o=e.endOfGroup,u=e.groupingInfo;return{key:t.toString(),startDate:r,endDate:n,today:a,endOfGroup:o,groupingInfo:u}});var n,a=Ao(t);return t[0].reduce(function(t,r,o){var u=r.startDate,s=r.endDate,l=r.today,p=(0,e.default)(u);return p.isSame(n)?t:(n=p,i(t,[{key:o.toString(),startDate:u,endDate:s,today:l,colSpan:a,endOfGroup:!0}]))},[])};exports.getDayScaleCells=yo;var Ro,go=function(t,r){return(0,e.default)(t)[r?\"subtract\":\"add\"](1,\"month\").toDate()};exports.navigateByOneMonth=go,exports.RecurrenceFrequency=Ro,function(e){e[e.Daily=tr.DAILY]=\"Daily\",e[e.Weekly=tr.WEEKLY]=\"Weekly\",e[e.Monthly=tr.MONTHLY]=\"Monthly\",e[e.Yearly=tr.YEARLY]=\"Yearly\"}(Ro||(exports.RecurrenceFrequency=Ro={}));"},"sourceMaps":null,"error":null,"hash":"a18ea47ef3643aabc53cccdc94379bca","cacheData":{"env":{}}}